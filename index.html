<!DOCTYPE html>
<meta charset="utf-8">
<html lang="en" dir="ltr">
<head>
<title>I+D+i</title>
<meta charset="iso-8859-1">
<style>
#line_1 {
    stroke: red;
    stroke-width: 2;
    fill: none;
}

#line_2 {
    stroke: green;
    stroke-width: 2;
    fill: none;
}

.axis path,
.axis line {
    fill: none;
    stroke: black;
    stroke-width: 2;
    shape-rendering: crispEdges;

}
  .tick line{
    opacity: 0.2;
    stroke-width: 1;
  }
#graphs{
    font: 12px Arial;
    }
</style>
<link rel="stylesheet" href="styles/layout.css" type="text/css">
<!--[if lt IE 9]><script src="scripts/html5shiv.js"></script><![endif]-->
</head>
<body>
<div class="wrapper row1">
  <header id="header" class="clear">
<script src="d3.min.js"></script>
<script src="topojson.min.js"></script>

    <script src="datamaps.world.min.js"></script>
    <div id="hgroup">
      <h1><a href="#">Indicadores de desarrollo en I+D+I</a></h1>
      <h2>Iván Granda Arillo</h2>
    </div>
    
  </header>
</div>
<!-- content -->
<div class="wrapper row2">
  <div id="container"  class="clear">
    <!-- Slider -->
    <section id="slider">
    <script type="text/javascript" src="mapa.js">
        </script>
   </section>
   <div id="In">
   	<p>Seleccionar un pais en el mapa para visualizar su progresión en los gráficos inferiores.</p>
   	<p>Mediante un click derecho, se puede seleccionar otro pais de comparación.</p>
   </div>
    <!-- main content -->
    <div id="homepage">
      <!-- Services -->
      <section id="services" class="clear">
        <article class="one_third" >
          <figure>
          	<svg id="PIB_graph" height="200" width="300"></svg>
          		<script type="text/javascript" src="PIB_graph.js"></script>
					<script>
    			function update()
				{
				    trans=900;
				    extentY_1 = d3.extent(data_PIB,function(d){return +d[country]})
				    extentY_2 = d3.extent(data_PIB,function(d){return +d[country_2]})
				    y.domain([d3.min([extentY_1[0],extentY_2[0]]),d3.max([extentY_1[1],extentY_2[1]])])


				    //yAxis.scale(y)
				    d3.select('#PIB_graph').selectAll('.y.axis')
				        .transition().duration(trans)
				        .call(yAxis)
				    d3.select('#PIB_graph').select('#line_1')
				        .transition()
				        .duration(trans)
				        .attr('d',valueline_1(data_PIB))

				    d3.select('#PIB_graph').select('#line_2')
				        .transition()
				        .duration(trans)
				        .attr('d',valueline_2(data_PIB))

				   //extentY = d3.extent(data_inv,function(d){return +d[country]})
				   	extentY_1 = d3.extent(data_inv,function(d){return +d[country]})
				    extentY_2 = d3.extent(data_inv,function(d){return +d[country_2]})
				    y.domain([d3.min([extentY_1[0],extentY_2[0]]),d3.max([extentY_1[1],extentY_2[1]])])
				 
				    d3.select('#inv_graph').selectAll('.y.axis')
				        .transition().duration(500)
				        .call(yAxis)
				    d3.select('#inv_graph').select('#line_1')
				        .transition()
				        .duration(trans)
				        .attr('d',valueline_1(data_inv))

				    d3.select('#inv_graph').select('#line_2')
				        .transition()
				        .duration(trans)
				        .attr('d',valueline_2(data_inv))
								
				    extentY_1 = d3.extent(data_exp_HT,function(d){return +d[country]})
				    extentY_2 = d3.extent(data_exp_HT,function(d){return +d[country_2]})
				    y.domain([d3.min([extentY_1[0],extentY_2[0]]),d3.max([extentY_1[1],extentY_2[1]])])
				    
				    d3.select('#exportaciones_graph').selectAll('.y.axis')
				        .transition().duration(500)
				        .call(yAxis)
				    d3.select('#exportaciones_graph').select('#line_1')
				        .transition()
				        .duration(trans)
				        .attr('d',valueline_1(data_exp_HT))

				    d3.select('#exportaciones_graph').select('#line_2')
				        .transition()
				        .duration(trans)
				        .attr('d',valueline_2(data_exp_HT))

				    extentY_1 = d3.extent(data_art,function(d){return +d[country]})
				    extentY_2 = d3.extent(data_art,function(d){return +d[country_2]})
				    y.domain([d3.min([extentY_1[0],extentY_2[0]]),d3.max([extentY_1[1],extentY_2[1]])])
				    
				    d3.select('#articulos_graph').selectAll('.y.axis')
				        .transition().duration(500)
				        .call(yAxis)
				    d3.select('#articulos_graph').select('#line_1')
				        .transition()
				        .duration(trans)
				        .attr('d',valueline_1(data_art))

				    d3.select('#articulos_graph').select('#line_2')
				        .transition()
				        .duration(trans)
				        .attr('d',valueline_2(data_art))

				    extentY_1 = d3.extent(data_invest,function(d){return +d[country]})
				    extentY_2 = d3.extent(data_invest,function(d){return +d[country_2]})
				    y.domain([d3.min([extentY_1[0],extentY_2[0]]),d3.max([extentY_1[1],extentY_2[1]])])
				    
				    d3.select('#investigadores_graph').selectAll('.y.axis')
				        .transition().duration(500)
				        .call(yAxis)
				    d3.select('#investigadores_graph').select('#line_1')
				        .transition()
				        .duration(trans)
				        .attr('d',valueline_1(data_invest))

				    d3.select('#investigadores_graph').select('#line_2')
				        .transition()
				        .duration(trans)
				        .attr('d',valueline_2(data_invest))

				    extentY_1 = d3.extent(data_patent,function(d){return +d[country]})
				    extentY_2 = d3.extent(data_patent,function(d){return +d[country_2]})
				    y.domain([d3.min([extentY_1[0],extentY_2[0]]),d3.max([extentY_1[1],extentY_2[1]])])
				    
				    d3.select('#patentes_graph').selectAll('.y.axis')
				        .transition().duration(500)
				        .call(yAxis)
				    d3.select('#patentes_graph').select('#line_1')
				        .transition()
				        .duration(trans)
				        .attr('d',valueline_1(data_patent))

				    d3.select('#patentes_graph').select('#line_2')
				        .transition()
				        .duration(trans)
				        .attr('d',valueline_2(data_patent))
				}
            		</script>
            <figcaption>
              <h2>Producto Interior Bruto (En millones de dólares)</h2>
              <p></p>
              <footer class="more"><a href="https://es.wikipedia.org/wiki/Producto_interno_bruto" target="_blank">Read More &raquo;</a></footer>
            </figcaption>
          </figure>
        </article>
        <article class="one_third">
          <figure>
          	<svg id="INV_graph" height="200" width="300"></svg>
          		<script type="text/javascript" src="INV_graph.js"></script>
            <figcaption>
              <h2>Inversión en I+D+i en relación al PIB (%)</h2>
              <p></p>
              <footer class="more"><a href="https://es.wikipedia.org/wiki/Investigaci%C3%B3n,_desarrollo_e_innovaci%C3%B3n" target="_blank" >Read More &raquo;</a></footer>
            </figcaption>
          </figure>
        </article>
        <article class="one_third lastbox">
          <figure>
          	<svg id="EXP_graph" height="200" width="300"></svg>
          	<script type="text/javascript" src="EXP_graph.js"></script>
            <figcaption>
              <h2>Exportaciones en productos de alta tecnología en relación al PIB</h2>
              <p></p>
              <footer class="more"><a href="https://es.wikipedia.org/wiki/Alta_tecnolog%C3%ADa" target="_blank">Read More &raquo;</a></footer>
            </figcaption>
          </figure>
        </article>
        <article class="one_third">
          <figure><svg id="ART_graph" height="200" width="300"></svg>
          	<script type="text/javascript" src="ART_graph.js"></script>
            <figcaption>
              <h2>Artículos publicados</h2>
              <p></p>
              <footer class="more"><a href="https://es.wikipedia.org/wiki/Publicaci%C3%B3n_cient%C3%ADfica" target="_blank">Read More &raquo;</a></footer>
            </figcaption>
          </figure>
        </article>
        <article class="one_third">
          <figure><svg id="INVEST_graph" height="200" width="300"></svg>
          	<script type="text/javascript" src="INVEST_graph.js"></script>
              <h2>Investigadores por cada 100.000 habitantes</h2>
              <p></p>
              <footer class="more"><a href="https://es.wikipedia.org/wiki/Investigador" target="_blank">Read More &raquo;</a></footer>
            </figcaption>
          </figure>
        </article>
        <article class="one_third lastbox">
          <figure><svg id="PAT_graph" height="200" width="300"></svg>
          	<script type="text/javascript" src="PAT_graph.js"></script>
            <figcaption>
              <h2>Patentes en trámite</h2>
              <p></p>
              <footer class="more"><a href="https://es.wikipedia.org/wiki/Patente" target="_blank">Read More &raquo;</a></footer>
            </figcaption>
          </figure>
        </article>
      </section>
      <!-- / Services -->
      <!-- ########################################################################################## -->
      <!-- ########################################################################################## -->
      <!-- ########################################################################################## -->
      <!-- ########################################################################################## -->
      <!-- Introduction -->
      
      <!-- / Introduction -->
    </div>
    <!-- / content body -->
  </div>
</div>
<!-- Footer -->
<div class="wrapper row3">
  <div id="footer" class="clear">
    <!-- Section One -->
    <section class="one_quarter">
      <h2 class="title">Link Block</h2>
      <nav>
        <ul>
          <li><a href="#">Lorem ipsum dolor sit</a></li>
          <li><a href="#">Amet consectetur</a></li>
          <li><a href="#">Praesent vel sem id</a></li>
          <li><a href="#">Curabitur hendrerit est</a></li>
          <li class="last"><a href="#">Sed a nulla urna</a></li>
        </ul>
      </nav>
    </section>
    <!-- Section Two -->
    <section class="one_quarter">
      <h2 class="title">Link Block</h2>
      <nav>
        <ul>
          <li><a href="#">Lorem ipsum dolor sit</a></li>
          <li><a href="#">Amet consectetur</a></li>
          <li><a href="#">Praesent vel sem id</a></li>
          <li><a href="#">Curabitur hendrerit est</a></li>
          <li class="last"><a href="#">Sed a nulla urna</a></li>
        </ul>
      </nav>
    </section>
    <!-- Section Three -->
    <section class="one_quarter">
      <h2 class="title">Link Block</h2>
      <nav>
        <ul>
          <li><a href="#">Lorem ipsum dolor sit</a></li>
          <li><a href="#">Amet consectetur</a></li>
          <li><a href="#">Praesent vel sem id</a></li>
          <li><a href="#">Curabitur hendrerit est</a></li>
          <li class="last"><a href="#">Sed a nulla urna</a></li>
        </ul>
      </nav>
    </section>
    <!-- Section Four -->
    <section class="one_quarter lastbox">
      <h2 class="title">Link Block</h2>
      <nav>
        <ul>
          <li><a href="#">Lorem ipsum dolor sit</a></li>
          <li><a href="#">Amet consectetur</a></li>
          <li><a href="#">Praesent vel sem id</a></li>
          <li><a href="#">Curabitur hendrerit est</a></li>
          <li class="last"><a href="#">Sed a nulla urna</a></li>
        </ul>
      </nav>
    </section>
    <!-- / Section -->
  </div>
</div>
<!-- Copyright -->
<div class="wrapper row4">
  <footer id="copyright" class="clear">
    <p class="fl_left">Copyright &copy; 2012 - All Rights Reserved - <a href="#">Domain Name</a></p>
    <p class="fl_right">Template by <a href="http://www.os-templates.com/" title="Free Website Templates">OS Templates</a></p>
  </footer>
</div>
</body>
</html>
